

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>9. Adding components &mdash; CIME 5.3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="top" title="CIME 5.3.0 documentation" href="../index.html" />
    <link rel="up" title="CIME User’s Guide Part 1: Beginner - Basic Usage" href="index.html" />
    <link rel="next" title="Building a Coupled Model with CIME" href="../build_cpl/index.html" />
    <link rel="prev" title="8.3. Setting up a branch or hybrid run" href="use_cases/basics-setting-up-a-branch-or-hybrid-run.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../build_cpl/index.html" title="Building a Coupled Model with CIME"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="use_cases/basics-setting-up-a-branch-or-hybrid-run.html" title="8.3. Setting up a branch or hybrid run"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CIME 5.3.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">CIME User&#8217;s Guide Part 1: Beginner - Basic Usage</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="use_cases/basics-setting-up-a-branch-or-hybrid-run.html"
                        title="previous chapter">8.3. Setting up a branch or hybrid run</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../build_cpl/index.html"
                        title="next chapter">Building a Coupled Model with CIME</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/users_guide/adding-components.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="adding-components">
<span id="id1"></span><h1>9. Adding components<a class="headerlink" href="#adding-components" title="Permalink to this headline">¶</a></h1>
<p>Here are the steps to add prognostic components to CIME models.</p>
<p>There are a couple of aspects of a component interface to CIME, the
scripts interface which controls setting up component inputs and
building the component and the run interface which controls connecting
the component to the coupler and through the coupler, the other
components of the CIME based model.</p>
<p>The component should have a subdirectory <strong>cime_config</strong> and this
subdirectory should have two files <strong>buildnml</strong> and <strong>buildlib</strong> The
<strong>buildnml</strong> script is used to build the components instructional,
runtime inputs.  These have traditionally been in the form of fortran
namelists but may also follow other formats.  The <strong>buildnml</strong> may
either be called from the command line or as a python subroutine.  If
buildnml is called from the command line it will be passed the
caseroot directory on the command line.  If it is called as a
subroutine, the subroutine name must be buildnml and it will take
three arguments, a Case object, a caseroot directory and a component
name.  The <strong>buildlib</strong> script will always be called from the command
line, it is called in the case.build step and is expected to build the
the buildlib script will be called with three arguments in order they
are caseroot, libroot (the location of the installed library,
typically EXEROOT/lib) and bldroot, the location of the component
build directory.  Look at the cime internal components such as datm
for an example.</p>
<p>The coupler interface is dependent on which coupler is used, for the mct coupler in cime
the component model must provide NNN_INIT_MCT, NNN_RUN_MCT, NNN_FINAL_MCT where NNN is the
component type of the particular component (eg ATM for an atmosphere, LND for a land model)
these subroutines are expected to be in the component library.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../build_cpl/index.html" title="Building a Coupled Model with CIME"
             >next</a> |</li>
        <li class="right" >
          <a href="use_cases/basics-setting-up-a-branch-or-hybrid-run.html" title="8.3. Setting up a branch or hybrid run"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CIME 5.3.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >CIME User&#8217;s Guide Part 1: Beginner - Basic Usage</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2017, U.S. National Science Foundation and U.S. Department of Energy.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.3.
    </div>
  </body>
</html>